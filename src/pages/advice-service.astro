---
import Layout from '../layouts/Layout.astro';
import HeaderHeroContainer from '../components/sections/HeaderHeroContainer.astro';
import Footer from '../components/layout/Footer.astro';
import Form from '../components/Form/Form.astro';
import FormField from '../components/Form/FormField.astro';
import Button from '../components/Button/Button.astro';
import InfoCard from '../components/Card/InfoCard.astro';
import Box from '../components/sections/Box.astro';
import CommitmentSection from '../components/sections/CommitmentSection.astro';
import harryInWorkshopImage from '../assets/HarryInWorkshop.svg';
import postitImage from '../assets/Postit.svg';

const formAction = import.meta.env.FORMBOLD_ADVICE_SERVICE_ENDPOINT || '';
---

<Layout title="Advice Service">
  <HeaderHeroContainer 
    title="Advice service" 
    subtitle="We're always happy to lend charities our minds for an hour or so. If there's something you think a bit of digital expertise could help, just drop us a line."
    icon="advice-service" 
  />
  <main id="content">
    <!-- We'd like to know section -->
    <section class="w-screen bg-bg-light left-1/2 -translate-x-1/2 relative">
      <Box sectionHeading={`We'd like to know <span class="text-[#48E9CE]">â†“</span>`} cardBackground="grey">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8">
        <InfoCard
          title="Who you are"
          titleSize="small"
        />
        <InfoCard
          title="What organisations you work for"
          titleSize="small"
        />
        <InfoCard
          title="How we can reach you"
          titleSize="small"
        />
        <InfoCard
          title="What's the problem"
          titleSize="small"
        />
      </div>
      </Box>
    </section>
    
    <!-- Our commitment to you section -->
    <CommitmentSection
      title="Our commitment to you"
      bodyText={[
        "If we think we can help, we will. If you're nearby, we'll drop over with a stack of post-it notes and make a start on mapping things out.",
        "If not, we'll offer a video call. Otherwise, we know a load of folk to point you at.",
        "In no case will that hour cost you anything."
      ]}
      buttonLabel="Talk to us"
      buttonHref="/talk-to-us"
      imageSrc={harryInWorkshopImage.src}
      imageAlt="Harry speaking at a workshop"
      decorativeImageSrc={postitImage.src}
      decorativeImageAlt=""
    />
    
    <section class="section section-intro py-16 md:py-20">
      <div class="w-full md:max-w-[1336px] md:mx-auto px-8 md:px-10">
        <div class="form-container">
          <Form 
            title="Not sure where to start?"
            description="Complete our advice service form so we can get things started."
            action={formAction}
            method="post"
          >
            <div class="form-row">
              <FormField 
                type="text" 
                name="name" 
                label="Name" 
                required 
                class="form-field-half"
              />
              <FormField 
                type="email" 
                name="email" 
                label="Email address" 
                required 
                class="form-field-half"
              />
            </div>
            <FormField 
              type="text" 
              name="contact_preference" 
              label="How is it best for us to reach you?" 
              required 
            />
            <FormField 
              type="text" 
              name="organisation" 
              label="What organisation(s) do you work for?" 
              required 
            />
            <FormField 
              type="textarea" 
              name="problem" 
              label="Describe the problem" 
              required 
              rows={6}
            />
            <div class="form-submit">
              <Button type="submit" variant="teal">Submit</Button>
            </div>
          </Form>
        </div>
      </div>
    </section>
  </main>
  <Footer />
</Layout>


