---
export interface Props {
  sectionHeading: string;
  cardTitle?: string;
  cardDescription?: string;
  cardBackground?: 'white' | 'grey';
  withCard?: boolean;
  class?: string;
}

const {
  sectionHeading,
  cardTitle,
  cardDescription,
  cardBackground = 'grey',
  withCard = false,
  class: className = '',
} = Astro.props;

const cardBgClass = cardBackground === 'white' ? 'bg-white' : 'bg-[var(--color-bg-light)]';
---

<section class={`w-[356px] md:max-w-[1336px] mx-auto md:mx-auto bg-white relative ${className}`}>
  <!-- Purple heading section -->
  <div class="w-screen bg-[#090909] md:bg-bg-dark relative -mt-[77px] z-10 left-1/2 -translate-x-1/2">
    <div class="w-full md:max-w-[1336px] md:mx-auto h-[77px] min-h-[77px] relative flex justify-center md:px-0">
      <div class="flex items-center justify-center md:justify-start h-[77px] bg-[#4B00E7] w-[356px] md:w-full px-10 md:px-10">
        <span class="text-white font-heading text-lg md:text-2xl font-bold" set:html={sectionHeading} />
      </div>
    </div>
  </div>
  
  {withCard ? (
    <!-- Card with turquoise accent line -->
    <div class="w-full relative">
      <div class={`${cardBgClass} flex flex-col w-full relative`}>
        <!-- Turquoise vertical accent line on the left -->
        <div class="absolute left-0 top-0 bottom-0 w-1 bg-[var(--color-accent-turquoise)]"></div>
        
        <div class="ml-1 p-8 md:p-10 flex-1">
          {cardTitle && (
            <h2 class="font-heading text-2xl md:text-4xl font-bold text-[#090909] mb-4 md:mb-6">
              {cardTitle}
            </h2>
          )}
          {cardDescription && (
            <p class="font-body text-base font-normal text-[#090909] mb-4 md:mb-6">
              {cardDescription}
            </p>
          )}
          <slot />
        </div>
      </div>
    </div>
  ) : (
    <!-- Plain content area (no card wrapper) -->
    <div class="w-full px-8 md:px-10 py-8 md:py-12">
      <slot />
    </div>
  )}
</section>

